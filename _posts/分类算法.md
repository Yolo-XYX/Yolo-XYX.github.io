###### æ»‘åŠ¨çª—å£

```
é€‚ç”¨æƒ…å†µï¼šä¸€èˆ¬æ˜¯å¯¹äºè¿ç»­çš„å­æ•°ç»„æˆ–è€…è¿ç»­å¾—åˆ°å­—ç¬¦ä¸²ï¼Œè¿™é‡Œä¸èƒ½æ˜¯å­åºåˆ—ï¼Œå› ä¸ºå­åºåˆ—å¯é€‰å¯ä¸é€‰ï¼Œå› æ­¤å¿…é¡»æ˜¯è¿ç»­çš„ï¼ŒåŒæ—¶æˆ‘ä»¬è¦å¤ç”¨ç›¸å…³çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯ç»“æœé›†è¦ä¿ç•™ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ç›¸å…³çš„è®¡ç®—
```



```java
1.å®šé•¿æ»‘åŠ¨çª—å£
æ¨¡æ¿ï¼š1456.å®šé•¿å­—ä¸²ä¸­å…ƒéŸ³çš„æœ€å¤§æ•°ç›®
æ€è·¯ï¼šåªè¦æ˜¯æ»‘åŠ¨çª—å£ç±»å‹çš„é¢˜ç›®ï¼Œæœ€å¤–å±‚ä½¿ç”¨forå¾ªç¯æ§åˆ¶å³è¾¹ç•Œï¼Œç„¶åwhileå¾ªç¯æ§åˆ¶å·¦è¾¹ç•Œï¼Œè¿™é‡Œç”±äºæ˜¯å®šé•¿æ»‘åŠ¨çª—å£ï¼Œå› æ­¤è¿™é‡Œè¿˜éœ€è¦å…ˆè€ƒè™‘ä¸€ä¸‹çª—å£çš„å¤§å°æ˜¯å¦å·²ç»è¾¾åˆ°äº†é¢„å®šå€¼ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ°ï¼Œä¸è¿›è¡Œå¤„ç†ç›´æ¥è¿›è¡Œä¸‹æ¬¡forå¾ªç¯ï¼Œç”±äºå®šé•¿æ»‘åŠ¨çª—å£æ¯”è¾ƒç‰¹æ®Šï¼Œforå¾ªç¯ä¸­æ²¡æœ‰whileå¾ªç¯ï¼Œå› ä¸ºå½“çª—å£æ­£å¥½çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥å°±è¦æ”¹å˜çª—å£å¤§å°äº†ï¼Œåªéœ€è¦æ”¹å˜ä¸€æ¬¡ï¼Œå› æ­¤ä¸è¦ç”¨å¾ªç¯ã€‚
class Solution {
    public int maxVowels(String s, int k) {
        int n = s.length();
        int left = 0, res = 0;
        int sum = 0;
        for (int right = 0; right < n; right++) {
            char c = s.charAt(right);
            if (c == 'a' || c == 'e' || c == 'i' || c == 'o' || c == 'u') {
                sum++;
            }
            if (right + 1 < k) {
                // æ»‘åŠ¨çª—å£å¤ªå°
                continue;
            }
            res = Math.max(res, sum);
            char out = s.charAt(left);
            if (out == 'a' || out == 'e' || out == 'i' || out == 'o' || out == 'u') {
                sum--;
            }
            left++;
        }
        return res;
    }
}
```



```java
2.ä¸å®šé•¿æ»‘åŠ¨çª—å£
æ¨¡æ¿ï¼š209.é•¿åº¦æœ€å°çš„å­æ•°ç»„
æ€è·¯ï¼šæ€è·¯å’Œå®šé•¿æ»‘åŠ¨çª—å£ç›¸ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨ä¸¤ä¸ªå˜é‡ç»´æŠ¤æ»‘åŠ¨çª—å£ï¼Œåˆ†åˆ«æ˜¯left,right,ä½†æ˜¯å¯¹äºrightç›´æ¥åœ¨æœ€å¤–å±‚çš„forå¾ªç¯ä¸­è¿›è¡Œå®šä¹‰å³å¯ï¼Œå¯¹äºleftéœ€è¦æå‰å®šä¹‰;æœ€å¤§çš„åŒºåˆ«åœ¨äºforå¾ªç¯å†…éƒ¨è¿˜è¦æœ‰ä¸€ä¸ªwhileå¾ªç¯ä¿æŒä¿æŒç§»åŠ¨å·¦è¾¹çª—å£ä½ç½®ï¼Œå› ä¸ºæ˜¯å˜é•¿çš„æ‰€ä»¥æœ‰whileå¾ªç¯
class Solution {
    public int minSubArrayLen(int target, int[] nums) {
        int n = nums.length;
        int ans = n + 1;
        int sum = 0; // å­æ•°ç»„å…ƒç´ å’Œ
        int left = 0; // å­æ•°ç»„å·¦ç«¯ç‚¹
        for (int right = 0; right < n; right++) { // æšä¸¾å­æ•°ç»„å³ç«¯ç‚¹
            sum += nums[right];
            while (sum >= target) { // æ»¡è¶³è¦æ±‚
                ans = Math.min(ans, right - left + 1);
                sum -= nums[left++]; // å·¦ç«¯ç‚¹å³ç§»
            }
        }
        return ans <= n ? ans : 0;
    }
}

01.æ±‚æœ€é•¿/æœ€å¤§ä¸å®šæ»‘åŠ¨çª—å£
æ¨¡æ¿ï¼š3.æ— é‡å¤å­—ç¬¦ä¸²çš„æœ€é•¿å­—ä¸²
æ€è·¯ï¼šè¿™é‡Œæ˜¯æ±‚æœ€é•¿å­—ä¸²é—®é¢˜ï¼Œå› ä¸ºwhileå¾ªç¯ä¸»è¦æ˜¯è¿›è¡Œä¸ç¬¦åˆæ¡ä»¶çš„æ—¶å€™å·¦æŒ‡é’ˆçš„ç§»åŠ¨ï¼Œå¯¹äºç¬¦åˆæ¡ä»¶çš„æ¯æ¬¡éƒ½ä¼šè¿›è¡Œè®¡ç®—
class Solution {
    public int lengthOfLongestSubstring(String S) {
        char[] s = S.toCharArray(); // è½¬æ¢æˆ char[] åŠ å¿«æ•ˆç‡ï¼ˆå¿½ç•¥å¸¦æ¥çš„ç©ºé—´æ¶ˆè€—ï¼‰
        int n = s.length;
        int ans = 0;
        int left = 0;
        boolean[] has = new boolean[128]; // ä¹Ÿå¯ä»¥ç”¨ HashSet<Character>ï¼Œè¿™é‡Œä¸ºäº†æ•ˆç‡ç”¨çš„æ•°ç»„
        for (int right = 0; right < n; right++) {
            char c = s[right];
            // å¦‚æœçª—å£å†…å·²ç»åŒ…å« cï¼Œé‚£ä¹ˆå†åŠ å…¥ä¸€ä¸ª c ä¼šå¯¼è‡´çª—å£å†…æœ‰é‡å¤å…ƒç´ 
            // æ‰€ä»¥è¦åœ¨åŠ å…¥ c ä¹‹å‰ï¼Œå…ˆç§»å‡ºçª—å£å†…çš„ c
            while (has[c]) { // çª—å£å†…æœ‰ c
                has[s[left++]] = false; // ç¼©å°çª—å£
            }
            has[c] = true; // åŠ å…¥ c
            ans = Math.max(ans, right - left + 1); // æ›´æ–°çª—å£é•¿åº¦æœ€å¤§å€¼
        }
        return ans;
    }
}

02.æ±‚æœ€çŸ­/æœ€å°
æ¨¡æ¿ï¼š1234.æ›¿æ¢å­ä¸²å¾—åˆ°å¹³è¡¡å­—ç¬¦ä¸²
æ€è·¯ï¼šè¿™é‡Œç”±äºæ˜¯æ±‚æœ€å°çš„å­æ•°ç»„ï¼Œå› æ­¤è¿™é‡Œåœ¨ç¬¦åˆæ¡ä»¶çš„å‰æä¸‹ï¼Œéœ€è¦ä¸æ–­ç¼©å°leftå’Œrightä¹‹é—´çš„è·ç¦»ï¼Œä¹Ÿå°±æ˜¯åœ¨whileå¾ªç¯ä¸­å·¦è¿™ä¸ªäº‹æƒ…ï¼Œå› æ­¤whileå¾ªç¯ä¸­æ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œå› æ­¤è¿™é‡Œåœ¨whileå¾ªç¯ä¸­å–å€¼ï¼Œä»¥åæœ€å°çš„éƒ½æ˜¯åœ¨whileå¾ªç¯ä¸­å–å€¼ã€‚
class Solution {
    public int balancedString(String s) {
        int n=s.length(),left=0;
        int ans=n,m=n/4;
        int[] count=new int['X'];
        for(int i=0;i<n;i++){
            char c=s.charAt(i);
            count[c]++;
        }
        if(count['Q']==m&&count['W']==m&&count['E']==m&&count['R']==m) return 0;
        for(int right=0;right<n;right++){
            char c=s.charAt(right);
            count[c]--;
            while(count['Q']<=m&&count['W']<=m&&count['E']<=m&&count['R']<=m){
                ans=Math.min(ans,right-left+1);
                char cl=s.charAt(left);
                count[cl]++;
                left++;
            }
        }
        return ans;
    }
}


03.æ±‚å­æ•°ç»„ä¸ªæ•°
â‘ è¶Šé•¿è¶Šåˆæ³•ï¼šä¹Ÿå°±æ˜¯æ²¡æœ‰é™åˆ¶æ•°ç»„é•¿åº¦ï¼Œé‚£ä¹ˆå°çš„å­æ•°ç»„ç¬¦åˆé‚£ä¹ˆå¤§çš„å­æ•°ç»„ä¹Ÿæ˜¯ç¬¦åˆçš„
æ¨¡æ¿ï¼š1358. åŒ…å«æ‰€æœ‰ä¸‰ç§å­—ç¬¦çš„å­å­—ç¬¦ä¸²æ•°ç›®
æ€è·¯ï¼šä¸€èˆ¬è¦å†™ ans += leftã€‚æ»‘åŠ¨çª—å£çš„å†…å±‚å¾ªç¯ç»“æŸæ—¶ï¼Œå³ç«¯ç‚¹å›ºå®šåœ¨ rightï¼Œå·¦ç«¯ç‚¹åœ¨0,1,2,â‹¯,leftâˆ’1 çš„æ‰€æœ‰å­æ•°ç»„ï¼ˆå­ä¸²ï¼‰éƒ½æ˜¯åˆæ³•çš„ï¼Œè¿™ä¸€å…±æœ‰ leftä¸ªã€‚
class Solution {
    public int numberOfSubstrings(String s) {
        int n = s.length();
        int left = 0, ans = 0;
        int[] cnt = new int[3];
        for (int right = 0; right < n; right++) {
            cnt[s.charAt(right) - 'a']++;
            while (cnt[0] >= 1 && cnt[1] >= 1 && cnt[2] >= 1) {
                cnt[s.charAt(left) - 'a']--;
                left++;
            }
            ans += left;
        }
        return ans;
    }
}
//æ³¨ï¼šè¿™é‡Œä¹Ÿå°±æ˜¯leftå·¦è¾¹çš„éƒ½æ˜¯åˆæ³•çš„

â‘¡è¶ŠçŸ­è¶Šåˆæ³•ï¼šæ»‘åŠ¨çª—å£å†…çš„éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆæ¯”ä»–æ›´å°çš„è‚¯å®šä¹Ÿæ»¡è¶³
æ¨¡æ¿ï¼š2302. ç»Ÿè®¡å¾—åˆ†å°äº K çš„å­æ•°ç»„æ•°ç›®
æ€è·¯ï¼šä¸€èˆ¬è¦å†™ ans += right - left + 1ã€‚æ»‘åŠ¨çª—å£çš„å†…å±‚å¾ªç¯ç»“æŸæ—¶ï¼Œå³ç«¯ç‚¹å›ºå®šåœ¨rightï¼Œå·¦ç«¯ç‚¹åœ¨ left,
left+1,â‹¯,rightçš„æ‰€æœ‰å­æ•°ç»„
class Solution {
    public long countSubarrays(int[] nums, long k) {
        int left = 0, n = nums.length;
        long ans = 0, sum = 0;
        for (int right = 0; right < n; right++) {
            sum += nums[right];
            while (sum * (right - left + 1) >= k) {
                sum -= nums[left];
                left++;
            }
            ans += right - left + 1;
        }
        return ans;
    }
}

â‘¢æ°å¥½å‹æ»‘åŠ¨çª—å£
æ¨¡æ¿ï¼š930. å’Œç›¸åŒçš„äºŒå…ƒå­æ•°ç»„
æ€è·¯ï¼šä¾‹å¦‚ï¼Œè¦è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç´ å’Œæ°å¥½ç­‰äºkçš„å­æ•°ç»„ï¼Œå¯ä»¥æŠŠé—®é¢˜å˜æˆï¼šè®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç´ å’Œ â‰¥ğ‘˜çš„å­æ•°ç»„ã€‚
è®¡ç®—æœ‰å¤šå°‘ä¸ªå…ƒç´ å’Œ >ğ‘˜ï¼Œä¹Ÿå°±æ˜¯â‰¥ğ‘˜+1çš„å­æ•°ç»„ã€‚
ç­”æ¡ˆå°±æ˜¯å…ƒç´ å’Œ â‰¥ğ‘˜çš„å­æ•°ç»„ä¸ªæ•°ï¼Œå‡å»å…ƒç´ å’Œâ‰¥k+1 çš„å­æ•°ç»„ä¸ªæ•°ã€‚è¿™é‡ŒæŠŠ > è½¬æ¢æˆâ‰¥ï¼Œä»è€Œå¯ä»¥æŠŠæ»‘çª—é€»è¾‘å°è£…æˆä¸€ä¸ªå‡½æ•° fï¼Œç„¶åç”¨ f(k) - f(k + 1) è®¡ç®—ï¼Œæ— éœ€ç¼–å†™ä¸¤ä»½æ»‘çª—ä»£ç ã€‚
æ€»ç»“ï¼šã€Œæ°å¥½ã€å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªã€Œè‡³å°‘ã€ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªã€Œè¶Šé•¿è¶Šåˆæ³•ã€çš„æ»‘çª—é—®é¢˜ã€‚
æ³¨ï¼šä¹Ÿå¯ä»¥æŠŠé—®é¢˜å˜æˆ â‰¤k å‡å» â‰¤kâˆ’1ï¼ˆä¸¤ä¸ªè‡³å¤šï¼‰ã€‚å¯æ ¹æ®é¢˜ç›®é€‰æ‹©åˆé€‚çš„å˜å½¢æ–¹å¼ã€‚
class Solution {
    public int numSubarraysWithSum(int[] nums, int goal) {
        // ç›´æ¥ä½¿ç”¨æ»‘åŠ¨çª—å£è¿›è¡Œæ±‚è§£,ä½†æ˜¯ç”±äºæ˜¯æ°å¥½å‹å› æ­¤éœ€è¦æ±‚ä¸¤ä¸ªæœ€å¤§
        // >=goal å’Œ>=goal+1
        return window(nums, goal) - window(nums, goal + 1);
    }

    public int window(int[] nums, int goal) {
        int left = 0, ans = 0, n = nums.length, sum = 0;
        for (int right = 0; right < n; right++) {
            sum += nums[right];
            while (left <= right && sum >= goal) {
                sum -= nums[left];
                left++;
            }
            ans += left;
        }
        return ans;
    }
}
//æ³¨ï¼šæ­¤ç±»å‹çš„é¢˜ç›®ä¹Ÿå¯ä»¥ä½¿ç”¨å‰ç¼€å’Œæ±‚è§£
```





```java
3.å•åºåˆ—åŒæŒ‡é’ˆ
01.ç›¸å‘åŒæŒ‡é’ˆ
æ¨¡æ¿ï¼š1750. åˆ é™¤å­—ç¬¦ä¸²ä¸¤ç«¯ç›¸åŒå­—ç¬¦åçš„æœ€çŸ­é•¿åº¦
æ€è·¯ï¼šä¸¤ä¸ªæŒ‡é’ˆeft=0,Â right=nâˆ’1ï¼Œä»æ•°ç»„çš„ä¸¤ç«¯å¼€å§‹ï¼Œå‘ä¸­é—´ç§»åŠ¨ï¼Œè¿™å«ç›¸å‘åŒæŒ‡é’ˆã€‚ä¸Šé¢çš„æ»‘åŠ¨çª—å£ç›¸å½“äºåŒå‘åŒæŒ‡é’ˆã€‚
class Solution {
    public int minimumLength(String s) {
        int n = s.length();
        int left = 0, right = n - 1;
        while (left < right && s.charAt(left) == s.charAt(right)) {
            char c = s.charAt(left);
            while (left <= right && s.charAt(left) == c) {
                left++;
            }
            while (left <= right && s.charAt(right) == c) {
                right--;
            }
        }
        return right - left + 1;
    }
}

02.åŒå‘åŒæŒ‡é’ˆ
ä¸¤ä¸ªæŒ‡é’ˆçš„ç§»åŠ¨æ–¹å‘ç›¸åŒï¼ˆéƒ½å‘å³ï¼Œæˆ–è€…éƒ½å‘å·¦ï¼‰
    
03.èƒŒå‘åŒæŒ‡é’ˆ
æ¨¡æ¿ï¼š1793. å¥½å­æ•°ç»„çš„æœ€å¤§åˆ†æ•°
æ€è·¯ï¼šä¸¤ä¸ªæŒ‡é’ˆä»æ•°ç»„ä¸­çš„åŒä¸€ä¸ªä½ç½®å‡ºå‘ï¼Œä¸€ä¸ªå‘å·¦ï¼Œå¦ä¸€ä¸ªå‘å³ï¼ŒèƒŒå‘ç§»åŠ¨ã€‚
class Solution {
    public int maximumScore(int[] nums, int k) {
        // ä½¿ç”¨åŒæŒ‡é’ˆ
        int left = k, right = k, ans = nums[k], minH = nums[k], n = nums.length;
        for (int i = 0; i < n - 1; i++) {
            if (right == n - 1 || (left > 0 && nums[right + 1] < nums[left - 1])) {
                left--;
                minH = Math.min(minH, nums[left]);
            } else {
                right++;
                minH = Math.min(minH, nums[right]);
            }
            ans = Math.max(ans, (right - left + 1) * minH);
        }
        return ans;
    }
}

04.åŸåœ°ä¿®æ”¹
æ¨¡æ¿ï¼š905. æŒ‰å¥‡å¶æ’åºæ•°ç»„
æ€è·¯ï¼šæ ¹æ®é¢˜ç›®æ¡ä»¶ä½¿ç”¨åŒæŒ‡é’ˆè¿›è¡Œä¿®æ”¹
class Solution {
    public int[] sortArrayByParity(int[] nums) {
        // ä½¿ç”¨åŒæŒ‡é’ˆè¿›è¡Œä¿®æ”¹
        int left = 0, right = nums.length - 1;
        while (left < right) {
            while (left < right && nums[left] % 2 == 0)
                left++;
            while (left < right && nums[right] % 2 == 1)
                right--;
            // å¼€å§‹äº¤æ¢
            int temp = nums[left];
            nums[left] = nums[right];
            nums[right] = temp;
        }
        return nums;
    }
}
```



```java
4.åŒåºåˆ—åŒæŒ‡é’ˆ
01.åŒæŒ‡é’ˆ
æ¨¡æ¿ï¼š1855. ä¸‹æ ‡å¯¹ä¸­çš„æœ€å¤§è·ç¦»
æ€è·¯ï¼šä½¿ç”¨åŒæŒ‡é’ˆï¼Œç”±äºæœ‰ä¸¤ä¸ªåºåˆ—ï¼Œå› æ­¤ä¸€ä¸ªæŒ‡é’ˆåœ¨åºåˆ—1ï¼Œä¸€ä¸ªæŒ‡é’ˆåœ¨åºåˆ—2ï¼Œè¿™æ ·æ ¹æ®ä¸€ä¸ªåºåˆ—ç§»åŠ¨å¦å¤–ä¸€ä¸ªåºåˆ—
class Solution {
    public int maxDistance(int[] nums1, int[] nums2) {
        int n1 = nums1.length, n2 = nums2.length;
        int top1 = 0, top2 = 0, ans = 0;
        while (top1 < n1 && top2 < n2) {
            int num = nums1[top1];
            while (top2 < n2 && nums2[top2] >= num) {
                top2++;
            }
            ans = Math.max(ans, top2 - top1 - 1);
            top1++;
        }
        return ans;
    }
}
//æ³¨ï¼šå¯¹äºåŒæŒ‡é’ˆé—®é¢˜æ¯”è¾ƒçµæ´»ï¼Œå› æ­¤æœ‰äº›æŒ‡é’ˆå¹¶ä¸æ˜¯è§„åˆ™ä»å¤´åˆ°å°¾è¿›è¡Œç§»åŠ¨çš„

02.åˆ¤æ–­å­åºåˆ—
æ¨¡æ¿ï¼š1023. é©¼å³°å¼åŒ¹é…
æ€è·¯ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯å­åºåˆ—ï¼Œè®©é•¿çš„ä¸€æ–¹ç§»åŠ¨å½“ä¸ç¬¦åˆçš„æ—¶å€™ï¼ŒçŸ­çš„ä¸€ä¸ªå­åºåˆ—ç¬¦åˆçš„æ—¶å€™éƒ½ç§»åŠ¨
class Solution {
    public List<Boolean> camelMatch(String[] queries, String pattern) {
        int n = queries.length;
        List<Boolean> res = new ArrayList<Boolean>();
        for (int i = 0; i < n; i++) {
            boolean flag = true;
            int p = 0;
            for (int j = 0; j < queries[i].length(); j++) {
                char c = queries[i].charAt(j);
                if (p < pattern.length() && pattern.charAt(p) == c) {
                    p++;
                } else if (Character.isUpperCase(c)) {
                    flag = false;
                    break;
                }
            }
            if (p < pattern.length()) {
                flag = false;
            }
            res.add(flag);
        }
        return res;
    }
}


03.ä¸‰æŒ‡é’ˆ
æ¨¡æ¿ï¼š795. åŒºé—´å­æ•°ç»„ä¸ªæ•°
æ€è·¯ï¼šç›¸å½“äºå›ºå®šä¸€ä¸ªä½ç½®ï¼Œç„¶ååˆ¤æ–­å…¶ä½™ä¸¤ä¸ªæŒ‡é’ˆæ‰€åœ¨çš„ä½ç½®æ˜¯å¦éœ€è¦è¿›è¡Œç§»åŠ¨é—®é¢˜
class Solution {
    public int numSubarrayBoundedMax(int[] nums, int left, int right) {
        int ans=0,last0=-1,last1=-1;
        for(int i=0;i<nums.length;i++){
            if(nums[i]>right){
                last0=i;
                last1=-1;
            }
            else if(nums[i]>=left) last1=i;
            if(last1!=-1){
                ans+=last1-last0;
            }
        }
        return ans;
    }
}
```









```java
5.äºŒåˆ†æŸ¥æ‰¾
é€‚ç”¨é¢˜å‹ï¼šäºŒåˆ†æŸ¥æ‰¾é€‚ç”¨äºæ‰¾å‡ºæŸä¸ªå€¼ï¼Œæœ€å¤§å€¼æˆ–è€…æœ€å°å€¼(è¿™é‡Œé¢å¯èƒ½ä¼šå‡ºç°èŒƒå›´é—®é¢˜ï¼Œæ‰¾å‡ºä¸€ä¸ªå€¼å¤§äºæ•´ä½“èŒƒå›´æˆ–è€…å°äºæ•´ä½“èŒƒå›´é—®é¢˜)
01.æ€»ç¯‡
æ¨¡æ¿ï¼š744. å¯»æ‰¾æ¯”ç›®æ ‡å­—æ¯å¤§çš„æœ€å°å­—æ¯
æ€è·¯ï¼šå¯¹äºäºŒåˆ†æŸ¥æ‰¾éœ€è¦å¼„æ¸…æ¥šåŒºé—´é—®é¢˜ï¼Œä»¥åŠè¾¹ç•Œæ¡ä»¶ï¼Œè¿™é‡Œä¸‹é¢ä½¿ç”¨äº†ä¸¤ä¸ªå¼€åŒºé—´ä¹Ÿå°±æ˜¯(left,right)ï¼Œé‚£ä¹ˆåœ¨æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªè¾¹ç•Œæ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œå› æ­¤whileæ¡ä»¶å¿…é¡»è¦è‡³å°‘åŒºé—´ä¸­æœ‰ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥æ˜¯left+1<rightï¼›è¿™é‡Œå¯¹äºå·¦å³æŒ‡é’ˆçš„ç§»åŠ¨æ²¡æœ‰è¦æ±‚ï¼Œå› ä¸ºè¿™é‡Œæœ€åè¿”å›çš„ç»“æœæ˜¯çœ‹ç­‰äºå·åœ¨é‚£ä¸€è¾¹ï¼Œå°±è¿”å›é‚£ä¸€è¾¹å°±å¯ä»¥äº†
class Solution {
    public char nextGreatestLetter(char[] letters, char target) {
        // ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ±‚è§£
        int left = -1, right = letters.length;
        while (left + 1 < right) {
            int mid = (left + right) / 2;
            if (letters[mid] <= target) {
                left = mid;
            } else {
                right = mid;
            }
        }
        return right == letters.length ? letters[0] : letters[right];
    }
}

02.æ±‚æœ€å°é—®é¢˜
æ¨¡æ¿ï¼š1283. ä½¿ç»“æœä¸è¶…è¿‡é˜ˆå€¼çš„æœ€å°é™¤æ•°
æ€è·¯ï¼šç”±äºæ˜¯æ±‚æœ€å°é—®é¢˜ï¼Œå·¦è¾¹æ˜¯ä¸æ»¡è¶³çš„ï¼Œä¹Ÿå°±æ˜¯å³è¾¹éƒ½æ˜¯æ»¡è¶³çš„ï¼Œä½†æ˜¯å³è¾¹çš„æ•°æ®ä¸èƒ½å¤ªå¤§ï¼Œå› æ­¤å¯¹äºç¬¦åˆè¦æ±‚çš„ï¼Œæˆ‘ä»¬éƒ½æ˜¯è®©ä»–å°½å¯èƒ½ç¼©å°èŒƒå›´è®©right=mid
class Solution {
    public int smallestDivisor(int[] nums, int threshold) {
        // ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç›´æ¥è¿›è¡Œæ±‚è§£
        Arrays.sort(nums);
        int left = 0, right = nums[nums.length - 1] + 1;
        while (left + 1 < right) {
            int mid = left + (right - left) / 2;
            int res = getRes(nums, mid);
            if (res <= threshold) {
                right = mid;
            } else {
                left = mid;
            }
        }
        return right;
    }
    public int getRes(int[] nums, int num) {
        int ans = 0;
        for (int i = 0; i < nums.length; i++) {
            ans += (nums[i] + num - 1) / num;
        }
        return ans;
    }
}

03.æ±‚æœ€å¤§é—®é¢˜
æ¨¡æ¿ï¼š2226. æ¯ä¸ªå°å­©æœ€å¤šèƒ½åˆ†åˆ°å¤šå°‘ç³–æœ
æ€è·¯ï¼šæ±‚æœ€å¤§ï¼šcheck(mid) == true æ—¶æ›´æ–° left = midï¼Œåä¹‹æ›´æ–° right = midï¼Œæœ€åè¿”å› leftã€‚å…³äºæ±‚æœ€å¤§é—®é¢˜ï¼Œè¿™é‡Œç”±äºæ˜¯æ±‚æœ€å¤§çš„ï¼Œå› æ­¤è¿™é‡Œå½“æ¡ä»¶ç¬¦åˆçš„æ—¶å€™å°±è®©èŒƒå›´ä¸­çš„ç»“æœå˜å¾—æ›´å¤§
class Solution {
    public int maximumCandies(int[] candies, long k) {
        // ç›´æ¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾è¿›è¡Œæ±‚è§£
        int left = 0, right = candies[0];
        for (int i = 0; i < candies.length; i++) {
            right = Math.max(candies[i], right);
        }
        right++;
        while (left + 1 < right) {
            int mid = left + (right - left) / 2;
            if (getCandies(candies, k, mid)) {
                left = mid;
            } else {
                right = mid;
            }
        }
        return left;
    }

    public Boolean getCandies(int[] candies, long k, int candy) {
        long child = 0;
        for (int i = 0; i < candies.length; i++) {
            child += candies[i] / candy;
        }
        return child >= k;
    }
}
```





```java
6.å•è°ƒæ ˆ
01.æ™®é€šå•è°ƒæ ˆ
æ¨¡æ¿ï¼š739. æ¯æ—¥æ¸©åº¦
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å•è°ƒæ ˆçš„æ€æƒ³ï¼Œä½¿å•è°ƒæ ˆä»æ ˆåº•æœ€é«˜æ ˆé¡¶æœ€å°ï¼Œä¹Ÿå°±æ˜¯é™åºé¡ºåºçš„ï¼Œå•è°ƒæ ˆçš„æœ¬è´¨å°±æ˜¯åªå­˜å‚¨é‚£äº›ç¬¦åˆè¦æ±‚çš„ï¼Œè¦è®©æ ˆä¸­çš„é¡ºåºå¾—åˆ°æ»¡è¶³ï¼Œå¦‚æœä¸æ»¡è¶³å°±å‡ºæ ˆæ“ä½œå°±å¯ä»¥äº†ï¼Œå‡ºæˆ˜ä¹‹åè¿˜è¦ä¿æŒè¿™ç§é¡ºåº
class Solution {
    public int[] dailyTemperatures(int[] temperatures) {
        int n = temperatures.length;
        int[] ans = new int[n];
        Deque<Integer> st = new ArrayDeque<>();
        for (int i = n - 1; i >= 0; i--) {
            int t = temperatures[i];
            while (!st.isEmpty() && t >= temperatures[st.peek()]) {
                st.pop();
            }
            if (!st.isEmpty()) {
                ans[i] = st.peek() - i;
            }
            st.push(i);
        }
        return ans;
    }
}

02.çŸ©å½¢é¢ç§¯
æ¨¡æ¿ï¼š84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢
æ€è·¯ï¼šè¿™é‡Œæ±‚è§£çš„çŸ©å½¢é¢ç§¯ä¸­ï¼Œè‚¯å®šä½¿æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯çŸ©å½¢çš„é«˜æ˜¯ä»¥æŸä¸ªå…ƒç´ çš„é«˜åº¦ä¸ºåŸºå‡†çš„ï¼Œå› æ­¤æ±‚è§£çš„æ—¶å€™é€ä¸ªéå†æ¯ä¸€ä¸ªå…ƒç´ ç„¶åæ±‚è§£çŸ©å½¢é¢ç§¯ï¼›ä½†æ˜¯å¦‚ä½•çŸ¥é“çŸ©å½¢çš„å®½åº¦å‘¢ï¼Œå¯ä»¥ä½¿ç”¨å•è°ƒé˜Ÿåˆ—è¿›è¡Œæå‰ç»Ÿè®¡ï¼Œä¹Ÿå°±æ˜¯ç»Ÿè®¡å·¦è¾¹å’Œå³è¾¹æ¯”ä»–é«˜çš„å…ƒç´ æœ‰å¤šå°‘ä¸ª
class Solution {
    public int largestRectangleArea(int[] heights) {
        int n = heights.length, ans = 0;
        int[] left = new int[n];
        int[] right = new int[n];
        Deque<Integer> stack = new ArrayDeque<>();
        for (int i = 0; i < n; i++) {
            int x = heights[i];
            while (!stack.isEmpty() && x <= heights[stack.peek()]) {
                stack.pop(); // å‡ºé˜Ÿï¼Œè¡¨æ˜æ­¤å…ƒç´ å¯ç”¨ç»„æˆçŸ©å½¢
            }
            left[i] = stack.isEmpty() ? -1 : stack.peek();
            stack.push(i);
        }
        stack.clear();
        for (int i = n - 1; i >= 0; i--) {
            int x = heights[i];
            while (!stack.isEmpty() && x <= heights[stack.peek()]) {
                stack.pop();
            }
            right[i] = stack.isEmpty() ? n : stack.peek();
            stack.push(i);
        }
        for (int i = 0; i < n; i++) {
            ans = Math.max(ans, heights[i] * (right[i] - left[i] - 1));
        }
        return ans;
    }
}



04.æœ€å°å­—å…¸åºåˆ—
æ¨¡æ¿ï¼š1673. æ‰¾å‡ºæœ€å…·ç«äº‰åŠ›çš„å­åºåˆ—
æ€è·¯ï¼šè¿™é‡Œç”±äºæ˜¯æ±‚æœ€å°å­åºåˆ—ï¼Œå› æ­¤è¦ä¿è¯çš„å°±æ˜¯å‰é¢çš„æ•°å­—æ˜¯æœ€å°çš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå•è°ƒæ ˆä¹Ÿå°±æ˜¯é€’å¢çš„ï¼Œä½†æ˜¯è¦ä¿è¯æœ€åçš„æ•°æ®é‡æœ‰kä¸ªï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åœ¨å‡ºé˜Ÿçš„æ—¶å€™è¿›è¡Œåˆ¤æ–­ï¼Œå¯¹äºå‰©ä½™æ•°æ®æœ‰kçš„å‰æä¸‹ï¼Œå‰é¢æ˜¯å¯ä»¥å‡ºæ ˆçš„ï¼Œå› ä¸ºå‰é¢è¶Šå°æ•´ä½“å°±è¶Šå°ï¼Œä¹Ÿå°±æ˜¯åœ¨å‰é¢å°½é‡æ»¡è¶³ä¼˜å…ˆå‡ºæ ˆ
class Solution {
    public int[] mostCompetitive(int[] nums, int k) {
        int[] res = new int[k];
        int m = 0, n = nums.length;
        for (int i = 0; i < n; i++) {
            int x = nums[i];
            while (m > 0 && res[m - 1] > x && (m + n - i) > k) {
                m--;
            }
            if (m < k)
                res[m++] = x;
        }
        return res;
    }
}
```





```java
7.ç½‘æ ¼å›¾
01.DFS
æ¨¡æ¿ï¼š200. å²›å±¿æ•°é‡
æ€è·¯ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†ï¼Œå…¶å®å’ŒäºŒå‰æ ‘çš„æ·±åº¦ä¼˜å…ˆéå†ä¸€æ ·ï¼Œéå†æ¯ä¸ªå·¦å³å­æ ‘ï¼Œè¿™é‡Œéœ€è¦éå†çš„å°±æ˜¯ä»–çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ï¼Œåœ¨éå†çš„è¿‡ç¨‹ä¸­éœ€è¦é¦–å…ˆè¿›è¡Œåˆ¤æ–­å½“å‰æ˜¯å¦è¶…å‡ºè¾¹ç•Œï¼Œä¹Ÿå°±æ˜¯åœ¨æ·±åº¦ä¼˜å…ˆéå†çš„å‡½æ•°ä¸­è¿›è¡Œéå†ï¼Œè¿™æ ·èƒ½é™ä½ä»£ç å¤æ‚åº¦ï¼ŒåŒæ—¶ä¾¿äºç†è§£é—®é¢˜
class Solution {
    public int numIslands(char[][] grid) {
        int count = 0;
        for (int i = 0; i < grid.length; i++) {
            for (int j = 0; j < grid[0].length; j++) {
                if (grid[i][j] == '1') {
                    dfs(grid, i, j);
                    count++;
                }
            }
        }
        return count;
    }

    private void dfs(char[][] grid, int i, int j) {
        if (i < 0 || j < 0 || i >= grid.length || j >= grid[0].length||grid[i][j] == '0')
            return;
        grid[i][j] = '0';
        dfs(grid, i + 1, j);
        dfs(grid, i, j + 1);
        dfs(grid, i - 1, j);
        dfs(grid, i, j - 1);
    }
}

æ¨¡æ¿ï¼š827. æœ€å¤§äººå·¥å²›
æ€è·¯ï¼šè¿™é‡Œæ˜¯å²›å±¿é¢ç§¯é—®é¢˜ï¼Œå› æ­¤è¿™é‡Œéœ€è¦æœ‰è¿”å›å€¼è¿›è¡Œç»Ÿè®¡ï¼Œå› æ­¤æ·±åº¦ä¼˜å…ˆéå†éœ€è¦è¿”å›å€¼è¿›è¡Œç´¯åŠ è·å¾—é¢ç§¯
class Solution {
    private static final int[][] DIRS = new int[][] { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };

    public int largestIsland(int[][] grid) {
        /** æ•´ä½“æ€è·¯æ˜¯å…ˆé€šè¿‡æ·±åº¦ä¼˜å…ˆéå†ç»Ÿè®¡å‡ºå„ä¸ªå²›å±¿çš„é¢ç§¯ï¼Œç„¶åè¿›è¡Œé€ä¸ªéå†æ°´åŒºï¼Œçœ‹æ˜¯å¦èƒ½å’Œå››ä¸ªæ–¹å‘çš„å²›å±¿è¿æ¥èµ·æ¥ï¼Œå¦‚æœå¯ä»¥é‚£ä¹ˆé¢ç§¯å°±æ˜¯åŠ èµ·æ¥çš„å’Œ */
        List<Integer> area = new ArrayList<>();
        int ans = 0, n = grid.length;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                if (grid[i][j] == 1) {
                    area.add(dfs(grid, i, j, area.size() + 2));
                }
            }
        }
        if (area.isEmpty())
            return 1;
        // éå†å®Œä¹‹åå¼€å§‹éå†æ°´åŒº
        Set<Integer> set = new HashSet<>();
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                set.clear();
                if (grid[i][j] != 0) {
                    continue;
                }
                int newArea = 1;
                for (int[] dir : DIRS) {
                    int x = i + dir[0];
                    int y = j + dir[1];
                    if (x >= 0 && x < n && y >= 0 && y < n && grid[x][y] != 0 && set.add(grid[x][y])) {
                        newArea += area.get(grid[x][y] - 2);
                    }
                }
                ans = Math.max(ans, newArea);
            }
        }
        return ans == 0 ? n * n : ans;
    }

    private int dfs(int[][] grid, int i, int j, int id) {
        if (i < 0 || i >= grid.length || j < 0 || j >= grid.length || grid[i][j] != 1) {
            return 0;
        }
        int size = 1;
        grid[i][j] = id;
        // éå†ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘
        for (int[] dir : DIRS) {
            int x = i + dir[0];
            int y = j + dir[1];
            size += dfs(grid, x, y, id);
        }
        return size;
    }
}

æ¨¡æ¿ï¼š695.å²›å±¿çš„æœ€å¤§é¢ç§¯
æ€è·¯ï¼šå¯¹äºæ·±æœæœ‰è¿”å›å€¼çš„ï¼Œä¹Ÿæ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è¿›è¡Œå¤„ç†çš„
public int maxAreaOfIsland(int[][] grid) {
    if (grid.length == 0 || grid[0].length == 0) {
        return 0;
    }

    int res = 0;
    for (int r = 0; r < grid.length; r++) {
        for (int c = 0; c < grid[0].length; c++) {
            if (grid[r][c] == 1) {
                int a = area(grid, r, c);
                res = Math.max(res, a);
            }
        }
    }
    return res;
}

int area(int[][] grid, int r, int c) {
    if (!(0 <= r && r < grid.length 
          && 0 <= c && c < grid[0].length)) {
        return 0;
    }
    if (grid[r][c] != 1) {
        return 0;
    }
    grid[r][c] = 2;
    return 1 
        + area(grid, r - 1, c)
        + area(grid, r + 1, c)
        + area(grid, r, c - 1)
        + area(grid, r, c + 1);
}


02.BFS
æ¨¡æ¿ï¼š1091. äºŒè¿›åˆ¶çŸ©é˜µä¸­çš„æœ€çŸ­è·¯å¾„
æ€è·¯ï¼šä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œéå†ï¼Œå¯¹äºæ¯ä¸€æ¬¡å‡ºé˜Ÿæ“ä½œï¼Œè¦æŠŠåŒä¸€æ‰¹æ¬¡è¿›å…¥é˜Ÿåˆ—çš„æ‰€æœ‰å…ƒç´ éƒ½éƒ½å‡ºæ ˆï¼Œå› æ­¤ä½¿ç”¨å¾ªç¯æ“ä½œå‡ºæ ˆæ‰€æœ‰çš„å…ƒç´ ï¼Œæ¯æ¬¡å‡ºæ ˆä¸€æ¬¡å°±ç›¸å½“äºè·ç¦»+1
class Solution {
    public int shortestPathBinaryMatrix(int[][] grid) {
        int[][] DIRS = new int[][] { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 }, { -1, -1 }, { -1, 1 }, { 1, -1 },
                { 1, 1 } };
        int n = grid.length, ans = 0;
        if (grid[0][0] == 1 || grid[n - 1][n - 1] == 1)
            return -1;
        Deque<int[]> queue = new ArrayDeque<>();
        queue.offer(new int[] { 0, 0 });
        grid[0][0] = 1;
        while (!queue.isEmpty()) {
            int size = queue.size();
            ans++;
            System.out.println("size:" + size);
            for (int i = 0; i < size; i++) {
                int[] poll = queue.poll();
                int x = poll[0], y = poll[1];
                // æŠŠè¯¥èŠ‚ç‚¹çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘çš„å…¨éƒ¨åŠ å…¥è¿›å»
                if (x == n - 1 && y == n - 1)
                    return ans;
                System.out.println(x + ",--" + y + "," + ans);
                for (int[] dir : DIRS) {
                    int newX = x + dir[0], newY = dir[1] + y;

                    if (newX >= 0 && newX < n && newY >= 0 && newY < n && grid[newX][newY] == 0) {
                        System.out.println(newX + "," + newY);
                        queue.offer(new int[] { newX, newY });
                        grid[newX][newY] = 1;
                    }
                }
            }
        }
        return -1;
    }
}
```







```java
8.ä½è¿ç®—
01.å¼‚æˆ–ï¼ˆXORï¼‰çš„æ€§è´¨
æ¨¡æ¿ï¼š2588. ç»Ÿè®¡ç¾ä¸½å­æ•°ç»„æ•°ç›®
æ€è·¯ï¼šè¿™é‡Œå¦‚æœç›¸åŒä½å¯ä»¥å‡å»ï¼Œæ„æ€å°±æ˜¯å¼‚æˆ–çš„ç»“æœï¼Œä½†æ˜¯æ±‚çš„æ˜¯å­æ•°ç»„ï¼Œå¦‚æœè¿›è¡ŒæŒ¨ä¸ªéå†çš„è¯ä¼šè¶…æ—¶ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨å‰ç¼€å’Œçš„æ–¹å¼è¿›è¡Œç»Ÿè®¡å¥½ç»“æœç„¶åå†è¿›è¡Œéå†ï¼Œä¹Ÿå°±æ˜¯ç»Ÿè®¡å¥½å‰é¢æ‰€æœ‰çš„å¼‚æˆ–å’Œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å¦‚æœè¦æ±‚ä¸­é—´çš„å­æ•°ç»„çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥å‰é¢æ€»çš„å¼‚æˆ–åé¢æ€»çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯ä¸­é—´çš„å­æ•°ç»„äº†ï¼Œé‚£ä¹ˆä¸­é—´å­æ•°ç»„ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¯´åé¢çš„å’Œå‰é¢çš„ç›¸ç­‰æ‰å¯ä»¥è®©ç»“æœä¸º0ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ç»Ÿè®¡å‰ç¼€å’Œç›¸ç­‰çš„ä¸ªæ•°å³å¯ï¼Œå› æ­¤è¿™é‡Œä½¿ç”¨å“ˆå¸Œè¿›è¡Œç»Ÿè®¡
class Solution {
    public long beautifulSubarrays(int[] nums) {
        long ans = 0;
        int n = nums.length;
        int[] pre = new int[n + 1];
        pre[0] = 0;
        for (int i = 1; i <= n; i++) {
            pre[i] = pre[i - 1] ^ nums[i - 1];
        }
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i <= n; i++) {
            ans += map.getOrDefault(pre[i], 0);
            map.put(pre[i], map.getOrDefault(pre[i], 0) + 1);
        }
        return ans;
    }
}

02.ä¸è¿ç®—
æ¨¡æ¿ï¼š2871. å°†æ•°ç»„åˆ†å‰²æˆæœ€å¤šæ•°ç›®çš„å­æ•°ç»„
æ€è·¯ï¼šè¿™é‡Œç”±äºæ˜¯ä¸è¿ç®—ï¼Œå› æ­¤å°±æ˜¯ä¸çš„æ•°æ®è¶Šå¤šï¼Œè‚¯å®šæ•°å­—ä¼šå°½å¯èƒ½å°çš„ï¼Œä¸ä¼šé€’å¢çš„ï¼Œå› æ­¤è¿™é‡Œæ‰€æœ‰æ•°å­—çš„ä¸è¿ç®—è‚¯å®šæ˜¯æœ€å°çš„ä¹Ÿå°±æ˜¯å­æ•°ç»„ä¹‹åæœ€å°ï¼Œå› æ­¤å¯¹äºæ‰€æœ‰çš„å­æ•°ç»„éƒ½å¿…é¡»æ˜¯0ï¼Œå¦åˆ™çš„è¯éƒ½ä¼šå¤§äºçš„ï¼Œæ‰€ä»¥å¦‚æœæ‰€æœ‰æ•°ç»„ä¸æ“ä½œ
class Solution {
    public int maxSubarrays(int[] nums) {
        int ans = 0, res = -1;
        for (int i = 0; i < nums.length; i++) {
            res = res & nums[i];
            if (res == 0) {
                ans++;
                res = -1;
            }
        }
        return Math.max(ans, 1);
    }
}

03.æˆ–è¿ç®—
æ¨¡æ¿ï¼š2680. æœ€å¤§æˆ–å€¼
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å‰ç¼€å’Œ+æˆ–è¿ç®—ï¼›è¦æƒ³æ•°æ®æœ€å¤§ï¼Œå°±è¦é€‰æ‹©ç§»åŠ¨æœ€é«˜ä½çš„1çš„é‚£ä¸ªæ•°ï¼Œæ‰ä¼šè®©æ€»å’Œæœ€å¤§ï¼Œé‚£ä¹ˆå¦‚æœæœ‰å¤šä¸ªæœ€é«˜ä½çš„1çš„æ•°ï¼Œé‚£å°±éœ€è¦è¿›è¡Œéå†è¿›è¡Œç¡®è®¤äº†ï¼Œå› æ­¤å°±æœ‰äº†ä¸‹é¢çš„å¾ªç¯éå†
class Solution {
    public long maximumOr(int[] nums, int k) {
        // æ³¨ï¼šè¿™é‡Œå°è¯•è®©æ¯ä¸€ä¸ªå…ƒç´ å°è¯•ç§»åŠ¨kä½è¿›è¡Œæ“ä½œ
        int n = nums.length;
        long[] suf = new long[n + 1];
        long pre = 0, ans = 0;
        for (int i = n - 1; i >= 0; i--) {
            suf[i] = suf[i + 1] | nums[i];
        }
        for (int i = 0; i < n; i++) {
            ans = Math.max(ans, pre | ((long) nums[i] << k) | suf[i + 1]);
            pre = pre | nums[i];
        }
        return ans;
    }
}

04.æ‹†ä½/è´¡çŒ®æ³•
æ¨¡æ¿ï¼š2275. æŒ‰ä½ä¸ç»“æœå¤§äºé›¶çš„æœ€é•¿ç»„åˆ
æ€è·¯ï¼šè¿™é‡Œè¦æ±‚çš„æ˜¯æŒ‰ä½ä¸è¿ç®—ç»“æœä¸ä¸º0ï¼Œé‚£å°±è¦æ±‚ä¸ä¹‹åè‡³å°‘æœ‰ä¸€ä½ä¸ä¸º0ï¼Œå› æ­¤è¿™é‡Œåªéœ€è¦ç»Ÿè®¡æ•°å­—ä¸­æŸä¸ªä½æ•°ä¸Š1çš„æœ€å¤šçš„æ•°å­—ï¼Œå› ä¸ºåªè¦å‡ºç°äº†0ï¼Œå°±ä¼šé€ æˆç»“æœä¸º0
class Solution {
    public int largestCombination(int[] candidates) {
        int ans = 0;
        for (int i = 0; i < 32; i++) {
            int sum = 0;
            for (int j = 0; j < candidates.length; j++) {
                sum += (candidates[j] >> i) & 1;
            }
            ans = Math.max(ans, sum);
        }
        return ans;
    }
}

05.æ’ç­‰å¼
æ¨¡æ¿ï¼š1835. æ‰€æœ‰æ•°å¯¹æŒ‰ä½ä¸ç»“æœçš„å¼‚æˆ–å’Œ
æ€è·¯ï¼šè¿™é‡Œæ˜¯æ±‚ä¸¤ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ä¸¤ä¸¤ä¸ä¹‹åå†æ±‚å¼‚æˆ–ï¼Œé‚£è¿™ä¸ªæ—¶å€™å¯¹äºä¸æ“ä½œçš„è¯ï¼Œåªæœ‰ä¸¤è€…å…¨éƒ¨ä¸º1çš„æ—¶å€™æ‰æ˜¯1ï¼ŒåŒæ—¶å¯¹äºå¼‚æˆ–æ¥è¯´çš„è¯ï¼Œåªæœ‰ç»“æœæœ‰å¥‡æ•°ä¸ª1æœ€åç»“æœæ‰æ˜¯1ï¼Œä¸ç„¶çš„è¯å¶æ•°ä¸ª1æœ€åç»“æœè¿˜æ˜¯0ï¼Œå› æ­¤è¿™ä¸ªæ—¶å€™å°±è¦çœ‹ä¸ä¹‹åæœ‰å¤šå°‘ä¸ª1ï¼Œé‚£å°±çœ‹æ¯ä¸ªæ•°ç»„ä¸­1çš„ä¸ªæ•°ï¼Œå› æ­¤æ±‚å‡ºæ•°ç»„1ä¸­çš„ä¸ªæ•°ä¹˜ä»¥æ•°ç»„äºŒä¸­çš„ä¸ªæ•°ï¼Œå³å¯å¾—åˆ°æœ€ååˆå¤šå°‘ä¸ª1
class Solution {
    public int getXORSum(int[] arr1, int[] arr2) {
        int ans = 0;
        for (int i = 0; i < 32; i++) {
            int andOne = 0, s1 = 0, s2 = 0;
            for (int j = 0; j < arr1.length; j++) {
                s1 += arr1[j] & 1;
                arr1[j] = arr1[j] >> 1;
            }
            for (int j = 0; j < arr2.length; j++) {
                s2 += arr2[j] & 1;
                arr2[j] = arr2[j] >> 1;
            }
            andOne = s1 * s2;
            ans |= (andOne % 2) << i;
        }
        return ans;
    }
}
//æ³¨ï¼šå¯¹äºåƒè¿™ç§éœ€è¦è€ƒè™‘æ¯ä¸€ä½çš„æƒ…å†µï¼Œé‚£å°±éœ€è¦æ‹¿å‡ºæ¯ä¸€ä½è¿›è¡Œé¢å¤–çš„è€ƒè™‘ç›¸å…³çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯éå†32ä½
```



```java
9.å›¾è®ºç®—æ³•
01.DFS
æ¨¡æ¿ï¼š2685. ç»Ÿè®¡å®Œå…¨è¿é€šåˆ†é‡çš„æ•°é‡
æ€è·¯ï¼šè¿™é‡Œç»Ÿè®¡å¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°ï¼Œé‚£ä¹ˆè¿™é‡Œå¯ä»¥çœ‹è¾¹æœ‰å¤šå°‘ä»¥åŠé¡¶ç‚¹æœ‰å¤šå°‘ï¼Œç”±äºæ˜¯æ— å‘å›¾ï¼Œæ‰€ä»¥e=v*(v-1)/2,è¿›è¡Œåˆ¤æ–­ï¼Œå› æ­¤åªéœ€è¦å…¨å±€å˜é‡è¿›è¡Œç»Ÿè®¡å³å¯
class Solution {
    int e, v;

    public int countCompleteComponents(int n, int[][] edges) {
        // ä½¿ç”¨æ·±åº¦ä¼˜å…ˆéå†å³å¯,ç”±äºç»™å‡ºçš„æ˜¯äºŒç»´æ•°ç»„ï¼Œå› æ­¤è¦æ„å»ºå›¾
        List<Integer>[] cnt = new List[n];
        for (int i = 0; i < n; i++)
            cnt[i] = new ArrayList<>();
        for (int i = 0; i < edges.length; i++) {
            int start = edges[i][0], end = edges[i][1];
            cnt[start].add(end);
            cnt[end].add(start);
        }
        int[] visited = new int[n];
        int ans = 0;
        for (int i = 0; i < n; i++) {
            if (visited[i] == 0) {
                v = 0;
                e = 0;
                dfs(cnt, visited, i);
                if (e == v * (v - 1))
                    ans++;
            }
        }
        return ans;
    }

    private void dfs(List<Integer>[] cnt, int[] visited, int start) {
        List<Integer> list = cnt[start];
        visited[start] = 1;
        e += list.size();
        v++;
        for (int i = 0; i < list.size(); i++) {
            if (visited[list.get(i)] == 0) {
                dfs(cnt, visited, list.get(i));
            }
        }
    }
}

02.BFS
æ¨¡æ¿ï¼š1129. é¢œè‰²äº¤æ›¿çš„æœ€çŸ­è·¯å¾„
æ€è·¯ï¼šè¿™é‡Œç”±äºæ˜¯äº¤æ›¿å‡ºç°çš„ï¼Œå› æ­¤è¿™é‡Œå°±éœ€è¦è€ƒè™‘ä¸¤ç§æƒ…å†µï¼Œå¼€å§‹ä»¥çº¢æˆ–è€…è“å¼€å§‹ï¼ŒåŒæ—¶è¿˜éœ€è¦çŸ¥é“å½“å‰éå†åˆ°çº¢è‰²è¿˜æ˜¯è“è‰²ï¼Œå› æ­¤éœ€è¦èŠ‚ç‚¹å…¥é˜Ÿçš„æ—¶å€™è¿›è¡Œä¿å­˜å½“å‰èŠ‚ç‚¹æ˜¯çº¢è‰²è¿˜æ˜¯è“è‰²ï¼Œå¦‚æœæ˜¯çº¢è‰²é‚£ä¹ˆä¸‹ä¸€æ¬¡å°±è¦æ˜¯è“è‰²ï¼Œæ‰€ä»¥å°±å»è“è‰²çš„å›¾ä¸­è¿›è¡Œå¯»æ‰¾
class Solution {
    public int[] shortestAlternatingPaths(int n, int[][] redEdges, int[][] blueEdges) {
        List<Integer>[][] grap = new List[n][2];
        for (var f : grap) {
            Arrays.setAll(f, k -> new ArrayList<>());
        }
        for (int i = 0; i < redEdges.length; i++) { // çº¢è‰²ï¼š0
            grap[redEdges[i][0]][0].add(redEdges[i][1]);
        }
        for (int i = 0; i < blueEdges.length; i++) {
            grap[blueEdges[i][0]][1].add(blueEdges[i][1]);
        }
        int[][] visited = new int[n][2];
        int[] ans = new int[n];
        Arrays.fill(ans, -1);
        // åˆ›å»ºé˜Ÿåˆ—å¼€å§‹è¿›bfséå†
        Deque<int[]> queue = new ArrayDeque<>();
        // å¼€å§‹æŠŠèŠ‚ç‚¹0å…¥é˜Ÿ
        queue.offer(new int[] { 0, 0 });
        queue.offer(new int[] { 0, 1 });
        int dep = 0;
        while (!queue.isEmpty()) {
            // å‡ºé˜Ÿåˆ—å…ƒç´ 
            for (int k = queue.size(); k > 0; k--) {
                var p = queue.poll();
                int i = p[0], c = p[1]; // èŠ‚ç‚¹å’Œé¢œè‰²
                if (ans[i] == -1)
                    ans[i] = dep;
                visited[i][c] = 1;
                c ^= 1; // å¼‚æˆ–é¢œè‰²å–å
                for (int j : grap[i][c]) {
                    if (visited[j][c] == 0) { // æ²¡æœ‰è®¿é—®è¿‡
                        queue.add(new int[] { j, c });
                    }
                }
            }
            dep++;
        }
        return ans;
    }
}

03.æ‹“æ‰‘æ’åº
æ¨¡æ¿ï¼š1462. è¯¾ç¨‹è¡¨ IV
æ€è·¯ï¼šè¿™é‡Œè¦æŸ¥çœ‹çš„æ˜¯å¦æ˜¯å‰ç½®è¯¾ç¨‹ï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿå°±æ˜¯æ‹“æ‰‘æ’åºä¸­æŸäº›å…ƒç´ åœ¨å½“å‰å…ƒç´ å‰é¢çš„ï¼Œå› æ­¤ä½¿ç”¨æ‹“æ‰‘æ’åºçš„æ€æƒ³ï¼Œå…ˆéå†å…¥è¯»ä¸º0çš„èŠ‚ç‚¹ï¼Œç„¶åè®©åé¢çš„å…ƒç´ å…¥åº¦--ï¼Œä¸ºäº†åé¢å¯ä»¥åˆ¤æ–­ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„è¿›è¡Œäº†ç»Ÿè®¡ï¼Œé‚£äº›å…ƒç´ æ˜¯æŸä¸ªå…ƒç´ çš„å…ˆé©±
class Solution {
    public List<Boolean> checkIfPrerequisite(int numCourses, int[][] prerequisites, int[][] queries) {
        // è¿™é‡Œåˆ›å»ºä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œè¿›è¡Œåˆ¤æ–­èŠ‚ç‚¹ä¹‹é—´æ˜¯å¦å­˜åœ¨å‰ç½®æ¡ä»¶
        List<Integer>[] grap = new List[numCourses];
        for (int i = 0; i < numCourses; i++) {
            grap[i] = new ArrayList<Integer>();
        }
        Deque<Integer> que = new ArrayDeque<>();
        List<Boolean> ans = new ArrayList<>();
        int[] indegree = new int[numCourses];
        boolean[][] isPre = new boolean[numCourses][numCourses];
        for (int i = 0; i < prerequisites.length; i++) {
            grap[prerequisites[i][0]].add(prerequisites[i][1]);
            indegree[prerequisites[i][1]]++;
        }
        for (int i = 0; i < numCourses; i++) {
            if (indegree[i] > 0)
                continue;
            que.offer(i); // å…¥åº¦ä¸º0çš„
        }
        while (!que.isEmpty()) {
            var p = que.poll();
            for (int cur : grap[p]) {
                isPre[p][cur] = true;
                // åŒæ—¶å¯¹å½“å‰èŠ‚ç‚¹çš„å‰é¢é—´æ¥èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­
                for (int i = 0; i < numCourses; i++) {
                    isPre[i][cur] = isPre[i][cur] || isPre[i][p];
                }
                if (--indegree[cur] == 0) {
                    // å…¥é˜Ÿ
                    que.add(cur);
                }
            }
        }
        // å¼€å§‹é€ä¸ªåˆ¤æ–­
        for (int i = 0; i < queries.length; i++) {
            ans.add(isPre[queries[i][0]][queries[i][1]]);
        }
        return ans;
    }
}

04.åŸºç¯æ ‘
æ¨¡æ¿ï¼š2359. æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹
æ€è·¯ï¼šè¿™é‡Œæ ¹æ®é¢˜ç›®æ¡ä»¶å¯ä»¥çŸ¥ï¼Œè¿™ä¸ªå›¾æœ‰å¯èƒ½æ˜¯ä¸ªåŸºç¯æ ‘ï¼Œæˆ–è€…åŸºç¯æ£®æ—ï¼Œé‚£ä¹ˆå°±å¯ä»¥çŸ¥é“ä¸€é¢—æ ‘ä¸­æœ€å¤šæœ‰ä¸€ä¸ªç¯ï¼Œå› æ­¤è¿™é‡Œåœ¨éå†çš„æ—¶å€™å°±å¯ä»¥ï¼Œå°±è¦è€ƒè™‘åˆ°ç¯çš„é—®é¢˜ï¼›åŒæ—¶å¯¹äºæœ¬ä½“çš„æ€è·¯å°±æ˜¯å‰‹ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆéå†ï¼Œä»å½“å‰èŠ‚ç‚¹å‡ºå‘éå†åˆ°æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»ï¼Œç„¶ååœ¨è¿›è¡Œå»æ¯”è¾ƒ
class Solution {
    public int closestMeetingNode(int[] edges, int node1, int node2) {
        // è¿™é‡Œåªéœ€è¦ç»Ÿè®¡è¿™ä¸¤ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»
        int[] d1 = calcDis(edges, node1), d2 = calcDis(edges, node2);
        int ans = -1, minDs = edges.length;
        for (int i = 0; i < edges.length; i++) {
            if (minDs > Math.max(d1[i], d2[i])) {
                ans = i;
                minDs = Math.max(d1[i], d2[i]);
            }
        }
        return ans;
    }

    private int[] calcDis(int[] edges, int node) {
        int n = edges.length;
        var res = new int[n];
        Arrays.fill(res, n);
        for (int d = 0; node >= 0 && res[node] == n; node = edges[node]) {
            res[node] = d++;
        }
        return res;
    }
}
```



```java
10.å¸¸ç”¨æ•°æ®ç»“æ„
01.æšä¸¾  
é€‚ç”¨ï¼šå¯¹äºéœ€è¦æ§åˆ¶å¤šä¸ªå˜é‡çš„æƒ…å†µä¸‹å¯ä»¥é€‚ç”¨æšä¸¾ï¼ŒåŒæ—¶éœ€è¦é€‚ç”¨å“ˆå¸Œç»“æ„è¿›è¡Œå­˜å‚¨å·²ç»è®¡ç®—å‡ºæ¥çš„å˜é‡ï¼Œç„¶ååé¢éå†åˆ°çš„éå†å’Œç›®å‰çš„è¿›è¡Œæ¯”è¾ƒï¼Œçœ‹æ˜¯å¦ç¬¦åˆè¦æ±‚
æ¨¡æ¿ï¼š1814. ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­å¥½å¯¹å­çš„æ•°ç›®   //æšä¸¾å³ï¼Œç»´æŠ¤å·¦
æ€è·¯ï¼šå¯¹äº åŒå˜é‡é—®é¢˜ï¼Œä¾‹å¦‚ä¸¤æ•°ä¹‹å’Œ ğ‘ğ‘–+ğ‘ğ‘—=ğ‘¡ï¼Œå¯ä»¥æšä¸¾å³è¾¹çš„ ğ‘ğ‘—ï¼Œè½¬æ¢æˆ å•å˜é‡é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯åœ¨ ğ‘ğ‘—å·¦è¾¹æŸ¥æ‰¾æ˜¯å¦æœ‰ ğ‘ğ‘–=ğ‘¡âˆ’ğ‘ğ‘— ï¼Œè¿™å¯ä»¥ç”¨å“ˆå¸Œè¡¨ç»´æŠ¤ã€‚ //è¿™é‡Œå¯¹äºå·²ç»éå†è¿‡çš„å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨è¿›è¡Œç»´æŠ¤
class Solution {
    public int countNicePairs(int[] nums) {
        // è¿™é‡Œå¯ä»¥ä½¿ç”¨æšä¸¾+å“ˆå¸Œè¡¨è¿›è¡Œå®ç°
        int MOD = 1_000_000_007, ans = 0;
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < nums.length; i++) {
            int cnt = map.getOrDefault(nums[i] - rev(nums[i]), 0);
            ans += cnt;
            map.put(nums[i] - rev(nums[i]), cnt + 1);
            ans = ans % MOD;
        }
        return ans;
    }

    // æ•°å­—åè½¬
    private int rev(int num) {
        int ans = 0;
        while (num != 0) {
            ans = ans * 10 + num % 10;
            num = num / 10;
        }
        return ans;
    }
}

æ¨¡æ¿ï¼š447. å›æ—‹é•–çš„æ•°é‡
æ€è·¯ï¼šè¿™é‡Œç”±äºæ²¡æœ‰è¦æ±‚é¡ºåºåŒæ—¶å¯¹äºIçš„å€¼å¯èƒ½å‡ºç°åœ¨ä¸­é—´çš„ä½ç½®ï¼Œå› æ­¤å°±ä¼šå‡ºç°å¤šç§æƒ…å†µï¼Œæ‰€ä»¥åœ¨æšä¸¾çš„æ—¶å€™å°±éœ€è¦ä»ä¸­é—´çš„ä½ç½®è¿›è¡Œæšä¸¾ï¼Œå¯¹äºå…¶ä»–å˜é‡å°±è¦ä»å¤´å¼€å§‹è¿›è¡Œéå†
class Solution {
    public int numberOfBoomerangs(int[][] points) {
        // è¿™é‡Œå°±æ˜¯æ±‚ä¸¤æ¡çº¿æ®µä¹‹é—´çš„è·ç¦»å’Œ,ä¹Ÿå°±æ˜¯i->j i->kä¹‹é—´è·ç¦»
        int ans = 0;
        Map<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < points.length; i++) {
            map.clear();
            for (int j = 0; j < points.length; j++) {
                int x = points[i][0] - points[j][0];
                int y = points[i][1] - points[j][1];
                int cnt = map.getOrDefault(x * x + y * y, 0);
                ans += cnt;
                map.put(x * x + y * y, cnt + 1);
            }
        }
        return ans * 2;
    }
}
```



```java
02.å‰ç¼€å’Œ
é€‚ç”¨ï¼šå¯¹äºå‰ç¼€å’Œçš„é—®é¢˜ï¼Œä¸€èˆ¬æ˜¯è¦æ±‚ä¸€ä¸ªåŒºé—´ä¸­çš„æ•°é‡ï¼Œç„¶åè¿™ä¸ªæ—¶å€™å¯ä»¥é€‚ç”¨ç´¯åŠ å‰ç¼€å’Œç»Ÿè®¡ï¼ŒåŒæ—¶å¯¹äºå‰ç¼€å’Œæ•°ç»„ä¸€èˆ¬éƒ½æ˜¯åˆ›å»ºçš„å¤§å°è¦æ¯”åŸæœ¬çš„å¤§1ï¼Œå› æ­¤åˆ›å»ºä¸‹é¢cntçš„æ—¶å€™åˆ›å»ºçš„æ˜¯n+1çš„å¤§å°
æ¨¡æ¿ï¼š2055. èœ¡çƒ›ä¹‹é—´çš„ç›˜å­
æ€è·¯ï¼šè¿™é‡Œé€‚ç”¨å‰ç¼€å’Œè¿›è¡Œç»Ÿè®¡åœ¨è¯¥å…ƒç´ ä¹‹å‰ï¼Œæœ‰å¤šå°‘ä¸ªç›˜å­ï¼Œç„¶åå°±å¯ä»¥æ±‚å‡ºæŸä¸ªåŒºé—´ç›˜å­æ•°é‡
class Solution {
    public int[] platesBetweenCandles(String s, int[][] queries) {
        // é€‚ç”¨å‰ç¼€å’Œè¿›è¡Œè®¡ç®—ï¼Œé¦–å…ˆè®¡ç®—å‡ºæ¯ä¸€ä¸ªèŠ‚ç‚¹ä¹‹å‰çš„ç›˜å­æ•°é‡
        int n = s.length();
        int[] cnt = new int[n + 1];
        int[] res = new int[queries.length];
        List<Integer> list = new ArrayList<>();
        for (int i = 1; i <= n; i++) {
            if (s.charAt(i - 1) == '|')
                list.add(i - 1);
            cnt[i] = cnt[i - 1] + (s.charAt(i - 1) == '*' ? 1 : 0);
        }
        // å¼€å§‹è¿›è¡Œç»Ÿè®¡ç»“æœé›†
        for (int i = 0; i < queries.length; i++) {
            int left = queries[i][0], right = queries[i][1];
            // è¿™é‡Œé€‚ç”¨äºŒåˆ†æŸ¥æ‰¾leftæœ€å³è¾¹çš„èœ¡çƒ›ï¼Œrightæœ€å·¦è¾¹çš„èœ¡çƒ›
            int l = -1, r = list.size();
            while (l + 1 < r) {
                int mid = l + (r - l) / 2;
                if (list.get(mid) >= left) {
                    r = mid;
                } else {
                    l = mid;
                }
            }
            if (r >= 0 && r < list.size() && list.get(r) >= left)
                left = list.get(r);
            else
                continue;
            l = -1;
            r = list.size();
            while (l + 1 < r) {
                int mid = l + (r - l) / 2;
                if (list.get(mid) <= right) {
                    l = mid;
                } else {
                    r = mid;
                }
            }
            if (l >= 0 && l < list.size() && list.get(l) <= right)
                right = list.get(l);
            else
                continue;
            if (left < right)
                res[i] = cnt[right] - cnt[left];
        }
        return res;
    }
}

æ¨¡æ¿ï¼š1546. å’Œä¸ºç›®æ ‡å€¼ä¸”ä¸é‡å çš„éç©ºå­æ•°ç»„çš„æœ€å¤§æ•°ç›®
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å“ˆå¸Œå­˜å‚¨å‰ç¼€å’Œçš„å€¼å’Œç´¢å¼•ä¸‹æ ‡ï¼Œè¿™é‡Œå’Œä½œä¸ºkeyï¼Œè¿™é‡Œä½¿ç”¨äº†è´ªå¿ƒè¿›è¡Œä¼˜åŒ–ï¼Œå“ˆå¸Œä¸­åªå­˜å‚¨æœ€åä¸€ä¸ªå‡ºç°çš„ç´¢å¼•ï¼Œä¹Ÿå³æ˜¯å¦‚æœä¸åŒå­æ•°ç»„å‰ç¼€å’Œç›¸åŒï¼Œé‚£ä¹ˆåªå­˜å‚¨æœ€è¿‘è®¿é—®çš„è¿™ä¸ª
//æ³¨ï¼šè´ªå¿ƒæ˜¯ç¬¦åˆè¦æ±‚çš„ï¼Œå› ä¸ºé¢˜ç›®è®©æ±‚çš„æ˜¯æ•°ç»„æœ€å°çš„ï¼Œå› æ­¤åªè¦ç¬¦åˆè¦æ±‚çš„æœ€å°æ•°ç»„é‚£å°±æ˜¯å¯ä»¥çš„ï¼Œä¸ç”¨æ‹…å¿ƒåé¢è¿˜æœ‰æ•°ç»„å’Œä»–é‡åˆï¼Œå› ä¸ºåé¢é‚£ä¸ªæ›´å¤§èŒƒå›´ï¼Œæ‰€ä»¥ä¼˜å…ˆé€‰æ‹©å°çš„
//æ³¨ï¼šå¦‚æœç»“åˆäº†å“ˆå¸Œ+å‰ç¼€å’Œï¼Œé‚£ä¹ˆä¸€èˆ¬æ˜¯ä¸éœ€è¦å†ç”¨æ•°ç»„å­˜å‚¨å‰ç¼€å’Œäº†ï¼Œç›´æ¥ä½¿ç”¨ä¸€ä¸ªå˜é‡å­˜å‚¨å³å¯
class Solution {
    public int maxNonOverlapping(int[] nums, int target) {
        // ä½¿ç”¨è´ªå¿ƒ+å‰ç¼€å’Œçš„æ–¹å¼
        Map<Integer, Integer> map = new HashMap<>();
        int ans = 0, n = nums.length, prev = -1, preSum = 0;
        map.put(0, 0);
        for (int i = 1; i <= n; i++) {
            preSum += nums[i - 1];
            // å»mapä¸­æŸ¥æ‰¾
            int index = map.getOrDefault(preSum - target, -1);
            if (index >= 0 && prev < index) {
                prev = i - 1;
                ans++;
            }
            map.put(preSum, i); // è¿™ä¸ªè¡¨ç¤ºè¿™ä¸ªå…ƒç´ ä¹‹å‰çš„
        }
        return ans;
    }
}

æ¨¡æ¿ï¼š2615. ç­‰å€¼è·ç¦»å’Œ   ï¼ˆå‰ç¼€è·ç¦»å’Œï¼‰
æ€è·¯ï¼šè¿™é‡Œæ˜¯æ±‚å€¼ç›¸ç­‰çš„ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥å…ˆæŠŠç›¸ç­‰çš„æ•°æ®å­˜å‚¨åœ¨ä¸€ç»„ï¼Œè¿™æ ·å°±å®Œæˆäº†åˆ†ç»„ï¼Œåˆ†å®Œç»„ä¹‹åå¯ä»¥ä½¿ç”¨å‰ç¼€å’Œè¿›è¡Œæ±‚è§£
class Solution {
    public long[] distance(int[] nums) {
        // ä½¿ç”¨åˆ†ç»„+å‰ç¼€å’Œæ–¹å¼
        Map<Integer, List<Integer>> map = new HashMap<>(); // è¿™é‡Œå­˜å‚¨åˆ†ç»„ï¼Œlistä¸­å­˜å‚¨ç´¢å¼•
        int n = nums.length;
        // è¿›è¡Œåˆ†ç»„
        for (int i = 0; i < n; i++) {
            //è¿™é‡Œåˆ¤æ–­æ˜¯å¦é›†åˆå·²ç»åˆå§‹åŒ–äº†ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™è¿›è¡Œåˆå§‹åŒ–ï¼Œç„¶åå†è¿”æ²ª
            map.computeIfAbsent(nums[i], k -> new ArrayList<Integer>()).add(i);
        }
        long[] ans = new long[n];
        for (List<Integer> list : map.values()) {
            int size = list.size();
            // å¼€å§‹éå†å½“å‰åˆ†ç»„çš„æ‰€æœ‰å…ƒç´ 
            long sum = 0, preSum = 0;
            for (int i = 0; i < size; i++) {
                sum += list.get(i);
            }
            for (int i = 0; i < size; i++) {
                int index = list.get(i);
                preSum += index;
                long left = (long) index * (i + 1) - preSum;
                long right = sum - preSum - (long) index * (size - i - 1);
                ans[index] = right + left;
            }
        }
        return ans;
    }
}


æ¨¡æ¿ï¼š1310. å­æ•°ç»„å¼‚æˆ–æŸ¥è¯¢  ï¼ˆå¼‚æˆ–å‰ç¼€å’Œï¼‰
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å¼‚æˆ–å’Œçš„ç‰¹æ€§
class Solution {
    public int[] xorQueries(int[] arr, int[][] queries) {
        // å¼‚æˆ–å®šç† a^b^c=x a^b^c^d^e=y x^y=d^e
        int n = arr.length;
        int[] preSum = new int[n + 1];
        for (int i = 1; i <= n; i++) {
            preSum[i] = preSum[i - 1] ^ arr[i - 1];
        }
        int[] ans = new int[queries.length];
        for (int i = 0; i < queries.length; i++) {
            int start = queries[i][0], end = queries[i][1];
            ans[i] = preSum[start] ^ preSum[end + 1];
        }
        return ans;
    }
}

æ¨¡æ¿ï¼š1895. æœ€å¤§çš„å¹»æ–¹  ï¼ˆä¸€ç»´å‰ç¼€å’Œï¼‰
æ€è·¯ï¼šè¿™é‡Œåªéœ€è¦æ±‚å‡ºæ‰€æœ‰çš„å‰ç¼€å’Œï¼ŒåŒ…æ‹¬æ–œå¯¹è§’ä¸Šçš„ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹å°±æ˜¯ï¼Œ45Â°æ–œå¯¹è§’æ˜¯ä¸å¯ä»¥å‡ºç°i=1,j=-1çš„æ–œå¯¹è§’æƒ…å†µçš„ï¼Œå› æ­¤è¿™é‡Œåšäº†ä¸€äº›ç‰¹æ®Šçš„å¤„ç†
class Solution {
    public int largestMagicSquare(int[][] grid) {
        // è¿™é‡Œå¯ä»¥æ±‚è¡Œ åˆ— å¯¹è§’çš„å‰ç¼€å’Œ
        int m = grid.length, n = grid[0].length;
        // ä½¿ç”¨å››ä¸ªçŸ©é˜µç»´æŠ¤å‰ç¼€å’Œ
        int[][] rowSum = new int[m][n + 1], colSum = new int[m + 1][n];
        int[][] line45 = new int[m + 1][n + 1], line135 = new int[m + 1][n + 1];
        // å¼€å§‹æ±‚å„ä¸ªå‰ç¼€å’Œ
        for (int i = 0; i < m; i++) {
            for (int j = 1; j <= n; j++) {
                rowSum[i][j] = rowSum[i][j - 1] + grid[i][j - 1];
            }
        }
        for (int j = 0; j < n; j++) {
            for (int i = 1; i <= m; i++) {
                // è¿™é‡Œåšäº†ä¸€äº›ç‰¹æ®Šå¤„ç†ï¼Œå½“å‰i=1ï¼Œj=0çš„ä½ç½®è¡¨ç¤ºçš„æ˜¯i=0,j=0çš„å‰ç¼€å’Œ
                colSum[i][j] = colSum[i - 1][j] + grid[i - 1][j];
            }
        }
        // å¼€å§‹æ±‚æ–œå¯¹è§’çš„å‰ç¼€å’Œ,45Â°æ–¹å‘
        for (int i = 1; i <= m; i++) {
            for (int j = 0; j < n; j++) {
                // System.out.println("i:"+(i-1)+",j:"+j+","+grid[i-1][j]);
                line45[i][j] = line45[i - 1][j + 1] + grid[i - 1][j];
                // System.out.println("i:"+(i)+",j:"+j+","+line45[i][j]);
            }
        }
        // æ±‚135Â°æ–¹å‘
        for (int i = 1; i <= m; i++) {
            for (int j = 1; j <= n; j++) {
                line135[i][j] = line135[i - 1][j - 1] + grid[i - 1][j - 1];
            }
        }
        // å¼€å§‹åˆ¤æ–­æ‰€æœ‰çš„æƒ…å†µæ˜¯å¦ç¬¦åˆè¦æ±‚
        for (int k = Math.min(m, n); k >= 2; k--) {
            for (int i = 0; i + k - 1 < m; i++) {
                for (int j = 0; j + k - 1 < n; j++) {
                    // åˆ¤æ–­å½“å‰æ˜¯å¦æœ‰æ•ˆ
                    if (valid(i, j, k, rowSum, colSum, line45, line135)) {
                        return k;
                    }
                }
            }
        }
        return 1;
    }

    public boolean valid(int i, int j, int k, int[][] rowSum, int[][] colSum, int[][] line45, int[][] line135) {
        // æ‰¾å‡ºä¸€ä¸ªåŸºå‡†
        int target = line45[i + k][j] - line45[i][j + k];
        // å¼€å§‹è¿›è¡Œåˆ¤æ–­
        for (int x = i; x <= i + k - 1; x++) {
            if (target != rowSum[x][j + k] - rowSum[x][j])
                return false;
        }
        for (int x = j; x <= j + k - 1; x++) {
            if (target != colSum[i + k][x] - colSum[i][x])
                return false;
        }
        return target == (line135[i + k][j + k] - line135[i][j]);
    }
}

æ¨¡æ¿ï¼š1314. çŸ©é˜µåŒºåŸŸå’Œ
æ€è·¯ï¼šè¿™é‡Œæ˜¯äºŒç»´å‰ç¼€å’Œï¼Œå› æ­¤æ±‚è§£çš„æ—¶å€™ä¸»è¦æ˜¯è€ƒè™‘è¾¹ç•Œé—®é¢˜ï¼ŒåŒæ—¶å‰ç¼€å’Œæ•°ç»„ä¸­è¡¨ç¤ºçš„å®ƒå·¦ä¸Šæ–¹æ‰€æœ‰å…ƒç´ çš„å’Œ
class Solution {
    public int[][] matrixBlockSum(int[][] mat, int k) {
        // äºŒç»´å‰ç¼€å’Œ+è¾¹ç•Œæ§åˆ¶
        int m = mat.length, n = mat[0].length;
        // è¡¨ç¤ºåœ¨è‡ªå·±å·¦ä¸Šæ–¹çš„å‰ç¼€å’Œï¼Œæ‰€æœ‰å…ƒç´ çš„å’Œ
        int[][] sum = new int[m + 1][n + 1];
        for (int i = 1; i <= m; i++) {
            for (int j = 1; j <= n; j++) {
                sum[i][j] = sum[i][j -1] + sum[i-1][j] + mat[i-1][j-1] - sum[i-1][j-1];
            }
        }
        // å¼€å§‹æ±‚è§£æ‰€æœ‰å…ƒç´ çš„å‰ç¼€å’Œ
        int[][] ans = new int[m][n];
        for (int i = 0; i < m; i++) {
            for (int j = 0; j < n; j++) {
                ans[i][j] = sum[i +1 +k >= m ? m : i + k + 1][j +1 +k >= n ? n :j+k+1]
                        - sum[i - k >= 0 ? i - k : 0][j + 1 + k >= n ? n : j + k + 1]
                        - sum[i + 1 + k >= m ? m : i + k + 1][j - k >= 0 ? j - k : 0]
                        + sum[i - k >= 0 ? i - k : 0][j - k >= 0 ? j - k : 0];
            }
        }
        return ans;
    }
}
```



```java
03.å·®åˆ†
/*å¯¹äºå·®åˆ†æ¥è¯´ä¸€èˆ¬éƒ½æ˜¯è®©æ±‚æŸä¸ªåŒºé—´ä¸Šçš„å¢é‡ï¼Œä¹Ÿå°±æ˜¯åœ¨æŸä¸ªåŒºé—´ä¸ŠåŒæ—¶å¢åŠ å¤šå°‘ï¼Œè¿™é‡Œå°±å¯ä»¥ä½¿ç”¨å·®åˆ†+å‰ç¼€å’Œçš„æ€æƒ³è¿›è¡Œä½¿ç”¨ï¼Œåœ¨æ„é€ å·®åˆ†æ•°ç»„çš„æ—¶å€™åªéœ€è¦å°†åŒºé—´çš„å¼€å§‹ç´¯åŠ ï¼Œç„¶åè¶…è¿‡åŒºé—´å³è¾¹ç•Œçš„ç¬¬ä¸€ä¸ªå…ƒç´ å‡å°‘å³å¯ï¼›å¯¹äºå·®åˆ†çš„ç‰¹æ€§æ¥è¯´çš„è¯ï¼Œå·®åˆ†æ•°ç»„æ±‚å‰ç¼€å’Œå°±å¯ä»¥å¾—åˆ°åŸæœ¬æ•°ç»„çš„ç»“æœï¼›å¯¹äºå·®åˆ†æ•°ç»„å°±æ˜¯åä¸€ä¸ªå…ƒç´ -å‰ä¸€ä¸ªå…ƒç´ */
//æ³¨ï¼šä¸‹é¢æ‰€æœ‰æœ¬è´¨ä¹Ÿéƒ½æ˜¯ä½¿ç”¨äº†å·®åˆ†çš„æ€æƒ³ï¼Œå·®åˆ†çš„å‰ç¼€å’Œç­‰äºåŸæœ¬çš„å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬åœ¨åŒºé—´çš„å¼€å§‹+xï¼ŒåŒºé—´ç»“æŸ-xï¼Œè¿™æ ·æ±‚å‰ç¼€å’Œå°±ç›¸å½“äºæ±‚å‡ºæ¥äº†åœ¨è¿™ä¸ªåŒºé—´ä¸Šè¿›è¡Œ+xå€¼çš„æƒ…å†µ
æ¨¡æ¿ï¼š1109. èˆªç­é¢„è®¢ç»Ÿè®¡
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨å·®åˆ†ï¼Œå·®åˆ†ä¸»è¦æ˜¯æ±‚æŸä¸ªåŒºé—´ä¸Šçš„å¢é‡çš„ï¼Œä»–æœ¬è´¨è¿˜æ˜¯æ±‚å‰ç¼€å’Œçš„ï¼›å·®åˆ†æ•°ç»„å¯¹åº”çš„æ¦‚å¿µæ˜¯å‰ç¼€å’Œæ•°ç»„ï¼Œå¯¹äºæ•°ç»„ [1,2,2,4]ï¼Œå…¶å·®åˆ†æ•°ç»„ä¸º [1,1,0,2]ï¼Œå·®åˆ†æ•°ç»„çš„ç¬¬ i ä¸ªæ•°å³ä¸ºåŸæ•°ç»„çš„ç¬¬ iâˆ’1 ä¸ªå…ƒç´ å’Œç¬¬ i ä¸ªå…ƒç´ çš„å·®å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯¹å·®åˆ†æ•°ç»„æ±‚å‰ç¼€å’Œå³å¯å¾—åˆ°åŸæ•°ç»„ã€‚å·®åˆ†æ•°ç»„çš„æ€§è´¨æ˜¯ï¼Œå½“æˆ‘ä»¬å¸Œæœ›å¯¹åŸæ•°ç»„çš„æŸä¸€ä¸ªåŒºé—´ [l,r] æ–½åŠ ä¸€ä¸ªå¢é‡inc æ—¶ï¼Œå·®åˆ†æ•°ç»„ d å¯¹åº”çš„æ”¹å˜æ˜¯ï¼šd[l] å¢åŠ  incï¼Œd[r+1] å‡å°‘ incã€‚è¿™æ ·å¯¹äºåŒºé—´çš„ä¿®æ”¹å°±å˜ä¸ºäº†å¯¹äºä¸¤ä¸ªä½ç½®çš„ä¿®æ”¹ã€‚å¹¶ä¸”è¿™ç§ä¿®æ”¹æ˜¯å¯ä»¥å åŠ çš„ï¼Œå³å½“æˆ‘ä»¬å¤šæ¬¡å¯¹åŸæ•°ç»„çš„ä¸åŒåŒºé—´æ–½åŠ ä¸åŒçš„å¢é‡ï¼Œæˆ‘ä»¬åªè¦æŒ‰è§„åˆ™ä¿®æ”¹å·®åˆ†æ•°ç»„å³å¯ã€‚æœ¬é¢˜æ€è·¯ä¹Ÿæ˜¯åœ¨ä¸€ä¸ªåŒºé—´ä¸Šæ·»åŠ å¢é‡ï¼Œä½†æ˜¯è¿‡äº†è¿™ä¸ªåŒºé—´å°±è¦å‡å»å¢é‡ï¼Œå› æ­¤è¿™é‡Œå¯ä»¥ä½¿ç”¨å·®åˆ†ï¼Œå·®åˆ†æ€æƒ³å°±æ˜¯å‰ç¼€å’Œå‡å»å½“å‰å…ƒç´ å€¼ï¼Œå› æ­¤å¯¹äºç»“æŸä½ç½®æˆ‘ä»¬å¯ä»¥æŠŠå€¼å˜æˆè´Ÿæ•°å°±æ˜¯å‡äº†
class Solution {
    public int[] corpFlightBookings(int[][] bookings, int n) {
        // ä½¿ç”¨å·®åˆ†çš„æ€æƒ³
        int[] ans = new int[n];
        for (int[] booking : bookings) {
            ans[booking[0] - 1] += booking[2];
            if (booking[1] < n) {
                ans[booking[1]] -= booking[2];
            }
        }
        for (int i = 1; i < n; i++) {
            ans[i] += ans[i - 1];
        }
        return ans;
    }
}

æ¨¡æ¿ï¼š995. K è¿ç»­ä½çš„æœ€å°ç¿»è½¬æ¬¡æ•°
æ€è·¯ï¼šè¿™é‡Œè¿˜æ˜¯ä½¿ç”¨å·®åˆ†ï¼Œç”¨ä¸€ä¸ªæ•°ç»„è¿›è¡Œè®°å½•éœ€è¦åè½¬çš„æ¬¡æ•°ï¼Œå¦‚æœåè½¬çš„æ˜¯å¶æ•°æ¬¡ï¼Œåˆ™ç›¸å½“äºæ²¡æœ‰æ”¹å˜ï¼Œå¥‡æ•°æ¬¡ç›¸å½“äºåè½¬äº†ä¸€æ¬¡
class Solution {
    public int minKBitFlips(int[] nums, int k) {
        int n = nums.length, ans = 0;
        int[] diff = new int[n + 1];
        for (int i = 0; i < n; i++) {
            if (i > 0)
                diff[i] += diff[i - 1];
            if ((diff[i] + nums[i]) % 2 == 0) {
                if (i + k > n)
                    return -1;
                ans++;
                diff[i]++;
                diff[i + k]--;
            }
        }
        return ans;
    }
}

æ¨¡æ¿:2536. å­çŸ©é˜µå…ƒç´ åŠ  1
æ€è·¯ï¼šè¿™é‡Œæ˜¯äºŒç»´å·®åˆ†é¢˜ç›®ï¼Œæœ¬è´¨å°±æ˜¯äºŒç»´å‰ç¼€å’Œ+å·®åˆ†ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®å°±æ˜¯æŠŠå·®åˆ†äºŒç»´æ•°ç»„å£°æ˜ç§°[n+2][n+2]è¿™æ ·å°±å¯ä»¥åœ¨å¤–é¢çš„æ•°ç»„åŠ ä¸€åœˆï¼Œå°±ä¸ç”¨åˆ¤æ–­æ•°ç»„æ˜¯å¦è¶Šç•Œçš„æƒ…å†µï¼›å¯¹äºäºŒç»´çŸ©é˜µçš„å‰ç¼€å’Œæ¯”è¾ƒå¤æ‚ï¼Œè¿˜è¦è€ƒè™‘æ˜¯å¦è¶Šç•Œé—®é¢˜ï¼Œå› æ­¤è¿™é‡Œç›´æ¥æŠŠçŸ©é˜µæ‰©å¤§ä¸€åœˆå³å¯
class Solution {
    public int[][] rangeAddQueries(int n, int[][] queries) {
        // äºŒç»´å·®åˆ†
        int[][] diff = new int[n + 2][n + 2];
        for (int[] q : queries) {
            int r1 = q[0], c1 = q[1], r2 = q[2], c2 = q[3];
            diff[r1 + 1][c1 + 1]++;
            diff[r1 + 1][c2 + 2]--;
            diff[r2 + 2][c1 + 1]--;
            diff[r2 + 2][c2 + 2]++;
        }

        // è®¡ç®— diff çš„äºŒç»´å‰ç¼€å’Œï¼ˆåŸåœ°ä¿®æ”¹ï¼‰ï¼Œç„¶åå¡«å…¥ ans
        int[][] ans = new int[n][n];
        for (int i = 1; i <= n; i++) {
            for (int j = 1; j <= n; j++) {
                diff[i][j] += diff[i][j - 1] + diff[i - 1][j] - diff[i - 1][j - 1];
                ans[i - 1][j - 1] = diff[i][j];
            }
        }
        return ans;
    }
}
```



```java
04.æ ˆ
æ¨¡æ¿ï¼š2434. ä½¿ç”¨æœºå™¨äººæ‰“å°å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²   (è¿›é˜¶æ ˆ)
æ€è·¯ï¼šè¿™é‡Œçš„æ€è·¯å°±æ˜¯å…ˆè®°å½•æ¯ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œç„¶åé€ä¸ªéå†å­—ç¬¦ï¼Œåˆ¤æ–­å½“å‰æ ˆä¸­çš„å­—ç¬¦èƒ½å¦å‡ºæ ˆï¼Œå‡ºæ ˆçš„å‰ææ˜¯åé¢æ²¡æœ‰æ¯”ä»–æ›´å°çš„å­—ç¬¦
//æ³¨ï¼šæ ˆçš„ä½¿ç”¨å’Œé˜Ÿåˆ—ä¸€æ ·ï¼Œè¿™é‡Œä¸åˆ›å»ºæ ˆï¼Œè€Œæ˜¯ç›´æ¥åˆ›å»ºé˜Ÿåˆ—çš„æ–¹å¼è¿›è¡Œä½¿ç”¨ï¼Œä½¿ç”¨pop å’Œpushè¿›è¡Œæ·»åŠ åˆ é™¤å…ƒç´ 
class Solution {
    public String robotWithString(String S) {
        var ans = new StringBuilder();
        var s = S.toCharArray();
        var cnt = new int[26];
        for (var c : s) ++cnt[c - 'a'];
        var min = 0; // å‰©ä½™æœ€å°å­—æ¯
        var st = new ArrayDeque<Character>();
        for (var c : s) {
            --cnt[c - 'a'];
            while (min < 25 && cnt[min] == 0) ++min;
            st.push(c);
            while (!st.isEmpty() && st.peek() - 'a' <= min)
                ans.append(st.poll());
        }
        return ans.toString();
    }
}

æ¨¡æ¿ï¼š1717. åˆ é™¤å­å­—ç¬¦ä¸²çš„æœ€å¤§å¾—åˆ†    ï¼ˆé‚»é¡¹ç›¸æ¶ˆï¼‰
æ€è·¯ï¼šè¿™é‡Œä½¿ç”¨è´ªå¿ƒ+æ ˆçš„æ€æƒ³ï¼Œé¦–å…ˆç§»é™¤çš„æ˜¯æœ€å¤§çš„å¾—åˆ†ï¼Œè¿™é‡Œè½¬æ¢æ€è·¯åªè®¤ä¸ºabæ˜¯æœ€å¤§çš„ï¼Œå¦‚æœx<yé‚£å°±æŠŠbaæ¢æˆabä¹Ÿå°±æ˜¯æŠŠa->b  b->aè¿™æ ·å°±æ˜¯æœ€å¤§çš„äº†ï¼Œå› æ­¤ä½¿ç”¨æ ˆè¿›è¡Œå­˜å‚¨
class Solution {
    public int maximumGain(String s, int x, int y) {
        /*
         * ä½¿ç”¨æ ˆ+è´ªå¿ƒçš„æ€æƒ³
         * åªè€ƒè™‘abçš„æƒ…å†µï¼Œæ— è®ºæ˜¯xå¤§æˆ–è€…yå¤§
         */
        char[] array = s.toCharArray();
        int n = s.length(), ans = 0;
        if (x < y) {
            // "ab"<"ba" å› æ­¤è¦æŠŠab ->ba
            int temp = x;
            x = y;
            y = temp;
            // å¼€å§‹äº¤æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦ï¼ŒæŠŠa bäº¤æ¢
            for (int i = 0; i < n; i++) {
                // è¿™é‡ŒæŠŠæ‰€æœ‰çš„éƒ½ä¿®æ”¹äº†ï¼ŒåŒ…æ‹¬å•ä¸ªå­˜åœ¨çš„ï¼Œä½†æ˜¯ä¸å½±å“ç»“æœ
                if (array[i] == 'a')
                    array[i] = 'b';
                else if (array[i] == 'b')
                    array[i] = 'a';
            }
        }
        // å¼€å§‹ä½¿ç”¨æ ˆè¿›è¡Œæ±‚è§£bbaaba
        Deque<Character> st = new ArrayDeque<>();
        for (char c : array) {
            if (st.isEmpty() || st.peek() != 'a' || c != 'b') {
                st.push(c);
                continue;
            }
            ans += x;
            st.pop();
        }
        // å¼€å§‹éå†æ ˆä¸­çš„æ‰€æœ‰å…ƒç´ ,æ‰¾å‡ºbaçš„æƒ…å†µç´¯åŠ ç»“æœ aabb
        Deque<Character> t = new ArrayDeque<>();
        while (!st.isEmpty()) {
            char c = st.pop(); // æ³¨æ„è¿™é‡Œç”¨removeLast()ä¿æŒåŸæœ‰é¡ºåº
            if (!t.isEmpty() && t.peek() == 'a' && c == 'b') {
                t.pop();
                ans += y;
            } else {
                t.push(c);
            }
        }
        return ans;
    }
}
```





































































